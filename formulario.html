<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/formulario.css">
    <title>Trabajo Integrador N°3</title>
</head>

<body>
    <main>

        
        <!-- FORMULARIO 1 -->

        <div class="contenedor">
            <div class="formulario">
                <form action="#" name="form1">
                    <div class="titulo centrado">
                        <h2 class="form__title">
                           Ingresá un número entre 3 y 10:
                        </h2>
                    </div>

                    <div class="form__group centrado" id="grupo1">
                        <input type="number" class="form__input" id="numero" placeholder="Tu número" min="3" max="10" required></input>
                        <label for="numero" class="form__label">Tu número</label>
                    </div>

                    <div class="form__group centrado" id="grupo2">
                    </div>

                    <div class="form__group centrado">
                        <input type="submit" class="btn" id="btn1" value="Seguir">
                    </div>
                </form>
                
                <div class="titulo centrado">
                    <h3 id="form1__h3"></h3>
                    <p id="form1__p"></p>
                </div>
            </div>     
        </div>


        <!-- FORMULARIO 2 -->

        <div class="contenedor">
            <div class="formulario">
                <form action="#" name="form2">
                    <div class="titulo centrado">
                        <h2 class="form__title">
                           ¿Par o Impar?
                        </h2>
                    </div>

                    <div class="form__group" id="form2__1">
                        <div>
                            <input type="radio" name="eleccion" id="par" value="par" required>
                            <label for="par">PAR</label>
                        </div>
                        <div>
                            <input type="radio" name="eleccion" id="impar" value="impar" required>
                            <label for="impar">IMPAR</label>
                        </div>
                    </div>
                </form>
                
                <div class="titulo centrado">
                    <h3 id="form2__h3"></h3>
                    <p id="form2__p"></p>
                </div>
            </div>     
        </div>
        

        <!-- FORMULARIO 3 -->

        <div class="contenedor">
            <div class="formulario">
                <form action="#" name="form3">
                    <div class="titulo centrado">
                        <h2 class="form__title">
                        Elegí 2 números y una operación:
                        </h2>
                    </div>

                    <div class="form__group centrado" id="form3__1">
                        <input type="number" class="form__input" id="operando1" placeholder="Primer operando" required></input>
                        <label for="operando1" class="form__label">Primer operando</label>
                    </div>

                    <div class="form__group centrado" id="form3__2">
                        <input type="number" class="form__input" id="operando2" placeholder="Segundo operando" required></input>
                        <label for="operando2" class="form__label">Segundo operando</label>
                    </div>

                    <div class="form__group centrado" id="form3__3">
                        <select class="form__input" id="operacion" required>
                            <option value="suma">Suma</option>
                            <option value="resta">Resta</option>
                            <option value="mult">Multiplicación</option>
                        </select>
                        <label for="operacion" class="form__label">Operación</label>
                    </div>

                    <div class="form__group centrado">
                        <input type="submit" class="btn" id="btn2" value="Calcular">
                    </div>
                </form>
                
                <div class="titulo centrado">
                    <p id="form3__p"></p>
                </div>
            </div>     
        </div>
    </main>

    <script>
        /* ------------------------------------------------------------ /
        /                       PRIMER FORMULARIO                      /
        /------------------------------------------------------------*/

        const form1 = document.querySelector('form[name="form1"]');
        const numInput = document.querySelector('#numero');
        const grupo2 = document.querySelector('#grupo2');

        // Un booleano para que el botón cambie de función entre la primera y la segunda accíón
        let funcionalidad = true; 
        let arrayN = [];
        let contador;

        form1.addEventListener('submit', (e) => {
            e.preventDefault();
            
            if (funcionalidad === true) {

                contador = numInput.value;

                // Creo el nuevo input + label para pedir nombres
                let nombresInput = document.createElement('input')
                nombresInput.type = 'text';
                nombresInput.required = true;
                nombresInput.className = 'form__input';
                nombresInput.id = 'nombres'
                nombresInput.placeholder = `Ingresá ${numInput.value} nombres`;
                let nombresLabel = document.createElement('label')
                nombresLabel.for = 'nombres';
                nombresLabel.className = 'form__label';
                nombresLabel.innerText = `Ingresá ${numInput.value} nombres`;

                // Los agrego
                grupo2.appendChild(nombresInput);
                grupo2.appendChild(nombresLabel);

                // Deshabilito la primera funcionalidad del boton
                funcionalidad = false;
            } 
            

            else {
                // Mientras falte ingresar nombres
                if (contador >= 2) {
                    let input = document.querySelectorAll('input')[1];
                    let label = document.querySelectorAll('label')[1];
                    // Agrego nombre al array
                    arrayN.push(input.value);
                    contador--;
                    
                    input.placeholder = `Ingresá ${contador} nombre(s) más`;
                    label.innerText = `Ingresá ${contador} nombre(s) más`;
                    input.value = '';
                } else {
                    // Deshabilito el botón
                    document.querySelector('#btn1').disabled = true;
                    // Agrego el último ingreso
                    arrayN.push(document.querySelectorAll('input')[1].value);
                    // Presento los nombres
                    document.querySelector('#form1__h3').innerText = 'Los nombres ingresados fueron:';
                    document.querySelector('#form1__p').innerText = `${arrayN.join(', ')}.`;
                }
            }

        })

        /* ------------------------------------------------------------ /
        /                       SEGUNDO FORMULARIO                     /
        /------------------------------------------------------------*/


        const eleccion = document.querySelectorAll('input[type="radio"]')


        function parImpar (opcion) {
            let arrayNum = [];
            let resto;
            opcion === 'par'? resto = 0 : resto = 1; 
            for (let i = 0; i < 100; i++) {
                if (i % 2 === resto && i % 5 === 0) {
                    arrayNum.push(i);
                }
            }
            document.querySelector('#form2__h3').innerText = `Los números ${opcion}es y múltiplos de 5 entre 1 y 100:`;
            document.querySelector('#form2__p').innerText = `${arrayNum.join(', ')}.`;
        }

        // Escucho cambio en la elección del botón
        eleccion.forEach((elem) => {
            elem.addEventListener('change', (e) => {
                let o = e.target.value;
                // Corro la función y mando el valor de la elección
                parImpar(o);
            })
        })

        /* ------------------------------------------------------------ /
        /                        TERCER FORMULARIO                     /
        /------------------------------------------------------------*/

        const form3 = document.querySelector('form[name="form3"]');

        const operando1 = document.querySelector('#operando1')
        const operando2 = document.querySelector('#operando2')
        const operacion = document.querySelector('#operacion')

        form3.addEventListener('submit', (e) => {
            let resultado = document.querySelector('#form3__p')
            e.preventDefault();
            console.log(e.target)
            console.log(operando1.value)
            console.log(operacion.value)

            switch (operacion.value) {
                case 'suma':
                    resultado.innerText = `El resultado de la operación ${operacion.value} entre los números ${operando1.value} y ${operando2.value} es igual a ${(operando1.value) + (operando2.value)}`;
                    break;

                case 'resta':
                    resultado.innerText = `El resultado de la operación ${operacion.value} entre los números ${operando1.value} y ${operando2.value} es igual a ${operando1.value - operando2.value}`;
                    break;

                case 'mult':
                    resultado.innerText = `El resultado de la operación ${operacion.value}iplicación entre los números ${operando1.value} y ${operando2.value} es igual a ${operando1.value * operando2.value}`;
                    break;
            }

        })
    </script>
   
</body>
</html>